{"version":3,"sources":["webpack:///webpack/bootstrap 79d0c390bab2c528a0c1?4b8c*","webpack:///./src/js/blackout.js?82af*","webpack:///./src/js/loadingscreen.js?d305","webpack:///./src/js/modal.js"],"names":[],"mappings":"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","file":"modal.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 79d0c390bab2c528a0c1\n **/","/**\r\n * @module Blackout Window\r\n * @copyright Roman Zino 2016\r\n */\r\n\r\nexport default class Blackout {\r\n\t/**\r\n\t * @constructor\r\n\t * @param {object|null} $el - DOM Element\r\n\t * @return {void}\r\n\t */\r\n\tconstructor($el = null) {\r\n\t\tthis.classNameOpened = 'blackout--open';\r\n\t\tthis.$body = $(document.body);\r\n\r\n\t\tif ($el) {\r\n\t\t\tthis.$el = $el;\t\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Shows the screen\r\n\t * @public\r\n\t * @return {void}\r\n\t */\r\n\tshow() {\r\n\t\tthis.$body.addClass('overflow-hidden');\r\n\t\tthis.$el.addClass(this.classNameOpened);\r\n\t}\r\n\r\n\t/**\r\n\t * Hides the screen\r\n\t * @public\r\n\t * @return {object} - Promise\r\n\t */\r\n\thide() {\r\n\t\tlet transitionEndPromise = new Promise((resolve, reject) => {\r\n\t\t\tthis.$el.removeClass(this.classNameOpened);\r\n\t\t\t//Wait for the transition\r\n\t\t\tthis.$el.one('transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd', () => {\r\n\t\t\t\tthis.$body.removeClass('overflow-hidden');\r\n\t\t\t\tresolve();\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\treturn transitionEndPromise;\r\n\t}\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/blackout.js\n **/","/**\r\n * @module Loading Window\r\n * @copyright Roman Zino 2016\r\n */\r\n\r\nimport Blackout from './blackout';\r\n\r\nlet LoadingScreen = new Blackout($('[data-el=\"loading-screen\"]'));\r\n\r\nexport default LoadingScreen;\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/loadingscreen.js\n **/","/**\r\n * @module Modal Window\r\n * @copyright Roman Zino 2016\r\n */\r\n\r\nimport LoadingScreen from './loadingscreen';\r\nimport Blackout from './blackout';\r\n\r\nclass Modal extends Blackout {\r\n\r\n    /**\r\n     * @constructor\r\n     * @param {object|string} parameter\r\n     * @return {void}\r\n     */\r\n    constructor(parameter, open = true) {\r\n        super();\r\n\r\n        let typeofParameter = typeof parameter;\r\n\r\n        if (typeofParameter === 'object') {\r\n            this.$el = parameter;\r\n\r\n            this._initializeModal(open);\r\n        }\r\n        else if (typeofParameter === 'string') {\r\n            let loadPromise = this._loadModal(parameter);\r\n            \r\n            LoadingScreen.show();\r\n\r\n            loadPromise.then((modalHTML) => {\r\n                \r\n                setTimeout(() => {\r\n                    this.$el = this._addModal(modalHTML);\r\n                    let loadingScreenPromise = LoadingScreen.hide();\r\n\r\n                    loadingScreenPromise.then(() => this._initializeModal(open));\r\n                }, 10000);\r\n\r\n            }, () => {\r\n                throw new Error(`An error occurred while loading modal from ${parameter}`);\r\n            });\r\n        }\r\n        else {\r\n            throw new Error('Wrong parameter for the Modal');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Opens the modal\r\n     * @public\r\n     * @return {void}\r\n     */\r\n    openModal() {\r\n        super.show();\r\n    }\r\n\r\n    /**\r\n     * Closes the modal\r\n     * @public\r\n     * @return {void}\r\n     */\r\n    closeModal() {\r\n        super.hide();\r\n    }\r\n\r\n    /**\r\n     * Initializes the modal\r\n     * @private\r\n     * @param  {boolean} open\r\n     * @return {void}\r\n     */\r\n    _initializeModal(open) {\r\n        if (open) {\r\n            this.openModal();   \r\n        }\r\n\r\n        this._addEventListeners();\r\n    }\r\n\r\n    /**\r\n     * Event listeners\r\n     * @private\r\n     * @return {void}\r\n     */\r\n    _addEventListeners() {\r\n        let $closeToggle = this.$el.find('[data-close*=\"modal\"]');\r\n        let $target;\r\n\r\n        //Close the modal when user clicking on the close button\r\n        $closeToggle.click((event) => {\r\n            this.closeModal();\r\n            event.preventDefault();\r\n        });\r\n\r\n        //Close the modal when user clicking on the background\r\n        this.$el.click((event) => {\r\n            $target = $(event.target);\r\n            \r\n            if (!($target.is('[data-modal-el=\"dialog\"]')) && !($target.closest('[data-modal-el=\"dialog\"]').length)) {\r\n               this.closeModal(); \r\n            }\r\n\r\n            event.preventDefault();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Get the last modal ID\r\n     * @private\r\n     * @return {number}\r\n     */\r\n    _getLastModalID() {\r\n        let lastModalID = $('[data-modal*=\"modal\"]')\r\n            .last()\r\n                .attr('data-modal')\r\n                    .match(/\\d/)\r\n                    .join()\r\n\r\n        return parseInt(lastModalID);\r\n    }\r\n\r\n    /**\r\n     * Creates the new modal ID\r\n     * @private\r\n     * @param  {number} lastModalID\r\n     * @return {number}\r\n     */\r\n    _createModalID(lastModalID) {\r\n        return lastModalID + 1;\r\n    }\r\n\r\n    _setModalID($modal, modalID) {\r\n        return $modal.attr('data-el', `modal-${modalID}`);\r\n    }\r\n\r\n    /**\r\n     * Loads the modal from remote url\r\n     * @private\r\n     * @param  {string} url\r\n     * @return {object}\r\n     */\r\n    _loadModal(url) {\r\n        let loadPromise = new Promise((resolve, reject) => {\r\n            $.ajax({\r\n                url: url,\r\n                type: 'GET',\r\n                timeout: 10000,\r\n                success: (data) => {\r\n                    resolve(data);\r\n                },\r\n                error: () => {\r\n                    reject();\r\n                }\r\n            });\r\n        });\r\n\r\n        return loadPromise;\r\n    }\r\n\r\n    /**\r\n     * Adds the loaded modal to DOM\r\n     * @private\r\n     * @param {object} modal\r\n     * @return {object}\r\n     */\r\n    _addModal(modalHTML) {\r\n        let $modal = $(modalHTML);\r\n        let lastModalID = this._getLastModalID();\r\n        let modalID = this._createModalID(lastModalID);\r\n\r\n        $modal = this._setModalID($modal, modalID);\r\n\r\n        return $modal.appendTo(this.$body);\r\n    }\r\n}\r\n\r\n(function () {\r\n    let initializedModals = new Map();\r\n\r\n    /**\r\n     * Open the modal when user clicking on the modal toggle\r\n     */\r\n    $('[data-open*=\"modal\"]').click((event) => {\r\n        let modalID = getModalID(event.target);\r\n        let initializedModal = initializedModals.get(modalID);\r\n\r\n        if (!initializedModal) {\r\n            /**\r\n             * The modal we should open\r\n             * @type {object}\r\n             */\r\n            let $modal = $(`[data-modal=\"${modalID}\"]`);\r\n\r\n            if ($modal.length > 1) {\r\n                throw new Error(`There is a couple modals with the same ID = ${modalID} !`);\r\n            }\r\n            else if ($modal.length < 1) {\r\n                console.info(`There is no the modal with the ID = ${modalID} !`)\r\n            }\r\n            else {\r\n                initializeModal(modalID, $modal);\r\n            }\r\n        }\r\n        else {\r\n            initializedModal.openModal();\r\n        }\r\n\r\n        event.preventDefault();\r\n    });\r\n\r\n    /**\r\n     * Gets modal's ID in the DOM\r\n     * @param  {object} target\r\n     * @return {string}\r\n     */\r\n    function getModalID(target) {\r\n        let $target = $(target);\r\n        let modalID = $target.attr('data-open');\r\n\r\n        return modalID;\r\n    }\r\n\r\n    /**\r\n     * Creates the new modal\r\n     * @param  {string} modalID\r\n     * @param  {object} $modal\r\n     * @return {object}\r\n     */\r\n    function initializeModal(modalID, $modal) {\r\n        let modal = new Modal($modal);\r\n        \r\n        return initializedModals.set(modalID, modal);\r\n    }\r\n\r\n})();\r\n\r\nwindow.Solovey = window.Solovey || {};\r\nSolovey.Modal = Modal;\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/modal.js\n **/"],"sourceRoot":""}